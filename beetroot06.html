<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.25.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.14.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.22.2"></script>
</head>

<body>
  <div id="vis"></div>
  <script>
    const data = [
      {
        "GDP(billion$)": "Beijing",
        "2000": 35.41,
        "2001": 53.01,
        "2002": 61.86,
        "2003": 71.77,
        "2004": 86.58,
        "2005": 99.56,
        "2006": 115.97,
        "2007": 140.67,
        "2008": 158.79,
        "2009": 173.61,
        "2010": 201.62,
        "2011": 232.17,
        "2012": 255.42,
        "2013": 282.87,
        "2014": 304.73,
        "2015": 328.78,
        "2016": 366.7,
        "2017": 400.21,
        "2018": 433.14,
        "2019": 505.3
      },
      {
        "GDP(billion$)": "Tianjin",
        "2000": 23.42,
        "2001": 27.42,
        "2002": 30.73,
        "2003": 36.83,
        "2004": 44.44,
        "2005": 55.79,
        "2006": 63.75,
        "2007": 75.04,
        "2008": 95.99,
        "2009": 107.46,
        "2010": 131.78,
        "2011": 161.53,
        "2012": 184.2,
        "2013": 206.31,
        "2014": 224.67,
        "2015": 236.26,
        "2016": 255.51,
        "2017": 264.99,
        "2018": 268.71,
        "2019": 201.49
      },
      {
        "GDP(billion$)": "Hebei",
        "2000": 72.7,
        "2001": 78.81,
        "2002": 85.98,
        "2003": 98.88,
        "2004": 121.11,
        "2005": 143.03,
        "2006": 163.82,
        "2007": 194.39,
        "2008": 228.74,
        "2009": 246.22,
        "2010": 291.35,
        "2011": 350.23,
        "2012": 379.64,
        "2013": 406.33,
        "2014": 420.3,
        "2015": 425.8,
        "2016": 458.15,
        "2017": 485.95,
        "2018": 514.43,
        "2019": 501.49
      },
      {
        "GDP(billion$)": "Shanxi",
        "2000": 23.48,
        "2001": 28.99,
        "2002": 33.21,
        "2003": 40.79,
        "2004": 51.02,
        "2005": 60.44,
        "2006": 69.69,
        "2007": 86.06,
        "2008": 104.51,
        "2009": 105.12,
        "2010": 131.44,
        "2011": 160.54,
        "2012": 173.04,
        "2013": 180.93,
        "2014": 182.31,
        "2015": 182.38,
        "2016": 186.43,
        "2017": 221.83,
        "2018": 240.26,
        "2019": 243.24
      },
      {
        "GDP(billion$)": "Inner Mongolia",
        "2000": 20.01,
        "2001": 24.48,
        "2002": 27.73,
        "2003": 34.12,
        "2004": 43.44,
        "2005": 55.79,
        "2006": 70.63,
        "2007": 91.76,
        "2008": 121.37,
        "2009": 139.15,
        "2010": 166.74,
        "2011": 205.14,
        "2012": 226.87,
        "2013": 241.66,
        "2014": 253.86,
        "2015": 254.74,
        "2016": 258.97,
        "2017": 229.95,
        "2018": 246.99,
        "2019": 245.89
      },
      {
        "GDP(billion$)": "Liaoning",
        "2000": 66.7,
        "2001": 71.9,
        "2002": 77.97,
        "2003": 85.75,
        "2004": 95.31,
        "2005": 114.96,
        "2006": 132.92,
        "2007": 159.49,
        "2008": 195.27,
        "2009": 217.32,
        "2010": 263.68,
        "2011": 317.52,
        "2012": 354.95,
        "2013": 388.76,
        "2014": 408.95,
        "2015": 409.56,
        "2016": 317.81,
        "2017": 334.42,
        "2018": 361.65,
        "2019": 355.85
      },
      {
        "GDP(billion$)": "Jilin",
        "2000": 26.02,
        "2001": 30.29,
        "2002": 33.55,
        "2003": 38.03,
        "2004": 44.6,
        "2005": 51.72,
        "2006": 61.07,
        "2007": 75.5,
        "2008": 91.8,
        "2009": 103.98,
        "2010": 123.82,
        "2011": 150.98,
        "2012": 170.56,
        "2013": 186.38,
        "2014": 197.19,
        "2015": 200.9,
        "2016": 211.1,
        "2017": 213.49,
        "2018": 215.35,
        "2019": 167.53
      },
      {
        "GDP(billion$)": "Heilongjiang",
        "2000": 46.47,
        "2001": 48.43,
        "2002": 51.96,
        "2003": 57.96,
        "2004": 67.87,
        "2005": 78.77,
        "2006": 88.74,
        "2007": 101.49,
        "2008": 118.78,
        "2009": 122.67,
        "2010": 148.12,
        "2011": 179.74,
        "2012": 195.59,
        "2013": 206.5,
        "2014": 214.85,
        "2015": 215.48,
        "2016": 219.8,
        "2017": 227.18,
        "2018": 233.74,
        "2019": 194.47
      },
      {
        "GDP(billion$)": "Shanghai",
        "2000": 65.02,
        "2001": 74.43,
        "2002": 82.01,
        "2003": 95.63,
        "2004": 115.33,
        "2005": 132.11,
        "2006": 151.03,
        "2007": 178.49,
        "2008": 201,
        "2009": 214.95,
        "2010": 245.23,
        "2011": 274.22,
        "2012": 288.31,
        "2013": 311.69,
        "2014": 336.68,
        "2015": 358.91,
        "2016": 402.55,
        "2017": 437.61,
        "2018": 466.86,
        "2019": 545.08
      },
      {
        "GDP(billion$)": "Jiangsu",
        "2000": 122.61,
        "2001": 135.1,
        "2002": 151.53,
        "2003": 177.76,
        "2004": 214.34,
        "2005": 265.7,
        "2006": 310.6,
        "2007": 371.69,
        "2008": 442.6,
        "2009": 492.25,
        "2010": 591.79,
        "2011": 701.58,
        "2012": 772.26,
        "2013": 853.62,
        "2014": 929.83,
        "2015": 1001.66,
        "2016": 1105.55,
        "2017": 1226.71,
        "2018": 1322.79,
        "2019": 1423.31
      },
      {
        "GDP(billion$)": "Zhejiang",
        "2000": 86.23,
        "2001": 98.55,
        "2002": 114.34,
        "2003": 138.64,
        "2004": 166.41,
        "2005": 191.68,
        "2006": 224.55,
        "2007": 267.91,
        "2008": 306.61,
        "2009": 328.43,
        "2010": 396.03,
        "2011": 461.7,
        "2012": 495.22,
        "2013": 539.38,
        "2014": 573.9,
        "2015": 612.66,
        "2016": 675.02,
        "2017": 739.55,
        "2018": 802.82,
        "2019": 890.74
      },
      {
        "GDP(billion$)": "Anhui",
        "2000": 43.4,
        "2001": 46.38,
        "2002": 50.28,
        "2003": 56.04,
        "2004": 67.99,
        "2005": 76.43,
        "2006": 87.32,
        "2007": 105.16,
        "2008": 126.45,
        "2009": 143.75,
        "2010": 176.56,
        "2011": 218.58,
        "2012": 245.89,
        "2013": 274.7,
        "2014": 297.84,
        "2015": 314.37,
        "2016": 348.68,
        "2017": 385.97,
        "2018": 428.67,
        "2019": 530.2
      },
      {
        "GDP(billion$)": "Fujian",
        "2000": 56,
        "2001": 58.18,
        "2002": 63.82,
        "2003": 71.2,
        "2004": 82.33,
        "2005": 93.64,
        "2006": 108.34,
        "2007": 132.12,
        "2008": 154.61,
        "2009": 174.81,
        "2010": 210.53,
        "2011": 250.86,
        "2012": 281.45,
        "2013": 312.41,
        "2014": 343.65,
        "2015": 371.14,
        "2016": 411.58,
        "2017": 459.74,
        "2018": 511.49,
        "2019": 605.64
      },
      {
        "GDP(billion$)": "Jiangxi",
        "2000": 28.62,
        "2001": 31.08,
        "2002": 35.01,
        "2003": 40.11,
        "2004": 49.38,
        "2005": 57.95,
        "2006": 68.86,
        "2007": 82.86,
        "2008": 99.59,
        "2009": 109.36,
        "2010": 135.02,
        "2011": 167.18,
        "2012": 184.98,
        "2013": 205.86,
        "2014": 224.49,
        "2015": 238.91,
        "2016": 264.27,
        "2017": 285.8,
        "2018": 314.07,
        "2019": 353.68
      },
      {
        "GDP(billion$)": "Shandong",
        "2000": 122.03,
        "2001": 131.36,
        "2002": 146.79,
        "2003": 172.55,
        "2004": 214.6,
        "2005": 262.38,
        "2006": 312.86,
        "2007": 368.24,
        "2008": 441.9,
        "2009": 484.24,
        "2010": 559.57,
        "2011": 648.03,
        "2012": 714.47,
        "2013": 789,
        "2014": 848.95,
        "2015": 900.03,
        "2016": 971.78,
        "2017": 1037.63,
        "2018": 1092.42,
        "2019": 1015.25
      },
      {
        "GDP(billion$)": "Henan",
        "2000": 73.4,
        "2001": 79.04,
        "2002": 86.22,
        "2003": 98.11,
        "2004": 122.2,
        "2005": 151.25,
        "2006": 176.61,
        "2007": 214.46,
        "2008": 257.41,
        "2009": 278.29,
        "2010": 329.89,
        "2011": 384.73,
        "2012": 422.85,
        "2013": 459.88,
        "2014": 499.12,
        "2015": 528.6,
        "2016": 578.17,
        "2017": 636.47,
        "2018": 686.51,
        "2019": 775.13
      },
      {
        "GDP(billion$)": "Hubei",
        "2000": 61.09,
        "2001": 55.44,
        "2002": 60.18,
        "2003": 67.96,
        "2004": 80.47,
        "2005": 94.15,
        "2006": 108.82,
        "2007": 133.33,
        "2008": 161.84,
        "2009": 185.16,
        "2010": 228.11,
        "2011": 280.46,
        "2012": 317.86,
        "2013": 354.17,
        "2014": 391.13,
        "2015": 422.15,
        "2016": 466.65,
        "2017": 506.83,
        "2018": 562.38,
        "2019": 654.69
      },
      {
        "GDP(billion$)": "Hunan",
        "2000": 52.74,
        "2001": 54.74,
        "2002": 59.31,
        "2003": 66.57,
        "2004": 80.6,
        "2005": 94.23,
        "2006": 109.84,
        "2007": 134.85,
        "2008": 165.07,
        "2009": 186.57,
        "2010": 229.11,
        "2011": 280.99,
        "2012": 316.49,
        "2013": 351.74,
        "2014": 386.25,
        "2015": 412.89,
        "2016": 450.73,
        "2017": 484.33,
        "2018": 520.37,
        "2019": 567.89
      },
      {
        "GDP(billion$)": "Guangdong",
        "2000": 138.03,
        "2001": 171.99,
        "2002": 192.89,
        "2003": 226.35,
        "2004": 269.49,
        "2005": 322.25,
        "2006": 379.83,
        "2007": 453.96,
        "2008": 525.67,
        "2009": 564.04,
        "2010": 657.33,
        "2011": 760.15,
        "2012": 815.26,
        "2013": 892.5,
        "2014": 968.71,
        "2015": 1040.18,
        "2016": 1155.07,
        "2017": 1281.5,
        "2018": 1389.68,
        "2019": 1538.16
      },
      {
        "GDP(billion$)": "Guangxi",
        "2000": 29.29,
        "2001": 32.56,
        "2002": 36.05,
        "2003": 40.3,
        "2004": 49.05,
        "2005": 56.92,
        "2006": 67.8,
        "2007": 83.19,
        "2008": 100.3,
        "2009": 110.85,
        "2010": 136.71,
        "2011": 167.44,
        "2012": 186.22,
        "2013": 206.43,
        "2014": 223.9,
        "2015": 240.04,
        "2016": 261.68,
        "2017": 264.62,
        "2018": 290.75,
        "2019": 303.39
      },
      {
        "GDP(billion$)": "Hainan",
        "2000": 7.41,
        "2001": 7.98,
        "2002": 8.89,
        "2003": 9.9,
        "2004": 11.41,
        "2005": 12.83,
        "2006": 14.93,
        "2007": 17.92,
        "2008": 21.47,
        "2009": 23.63,
        "2010": 29.49,
        "2011": 36.04,
        "2012": 40.79,
        "2013": 45.39,
        "2014": 50.01,
        "2015": 52.9,
        "2016": 57.9,
        "2017": 63.75,
        "2018": 69.03,
        "2019": 75.84
      },
      {
        "GDP(billion$)": "Chongqing",
        "2000": 22.7,
        "2001": 25.22,
        "2002": 28.43,
        "2003": 32.47,
        "2004": 38.47,
        "2005": 49.54,
        "2006": 55.82,
        "2007": 66.8,
        "2008": 82.77,
        "2009": 93.29,
        "2010": 113.22,
        "2011": 143.02,
        "2012": 162.99,
        "2013": 182.62,
        "2014": 203.75,
        "2015": 224.53,
        "2016": 253.44,
        "2017": 277.5,
        "2018": 290.9,
        "2019": 337.23
      },
      {
        "GDP(billion$)": "Sichuan",
        "2000": 57.29,
        "2001": 61.34,
        "2002": 67.5,
        "2003": 76.19,
        "2004": 91.14,
        "2005": 105.5,
        "2006": 124.15,
        "2007": 150.89,
        "2008": 180.02,
        "2009": 202.16,
        "2010": 245.51,
        "2011": 300.38,
        "2012": 341.04,
        "2013": 377.03,
        "2014": 407.67,
        "2015": 429.33,
        "2016": 470.49,
        "2017": 528.29,
        "2018": 581.12,
        "2019": 665.94
      },
      {
        "GDP(billion$)": "Guizhou",
        "2000": 14.19,
        "2001": 16.19,
        "2002": 17.76,
        "2003": 20.38,
        "2004": 23.97,
        "2005": 28.65,
        "2006": 33.41,
        "2007": 41.2,
        "2008": 50.88,
        "2009": 55.9,
        "2010": 65.75,
        "2011": 81.45,
        "2012": 97.89,
        "2013": 115.53,
        "2014": 132.38,
        "2015": 150.04,
        "2016": 168.24,
        "2017": 193.44,
        "2018": 211.52,
        "2019": 239.56
      },
      {
        "GDP(billion$)": "Yunnan",
        "2000": 27.93,
        "2001": 30.55,
        "2002": 33.04,
        "2003": 36.51,
        "2004": 44.03,
        "2005": 49.45,
        "2006": 56.97,
        "2007": 68.18,
        "2008": 81.32,
        "2009": 88.14,
        "2010": 103.2,
        "2011": 127.04,
        "2012": 147.28,
        "2013": 169.03,
        "2014": 183.07,
        "2015": 194.56,
        "2016": 211.26,
        "2017": 233.95,
        "2018": 255.44,
        "2019": 331.77
      },
      {
        "GDP(billion$)": "Tibet",
        "2000": 1.68,
        "2001": 2.09,
        "2002": 2.38,
        "2003": 2.7,
        "2004": 3.15,
        "2005": 3.55,
        "2006": 4.15,
        "2007": 4.88,
        "2008": 5.64,
        "2009": 6.31,
        "2010": 7.25,
        "2011": 8.65,
        "2012": 10.01,
        "2013": 11.65,
        "2014": 13.15,
        "2015": 14.66,
        "2016": 16.45,
        "2017": 18.73,
        "2018": 21.11,
        "2019": 24.25
      },
      {
        "GDP(billion$)": "Shaanxi",
        "2000": 23.73,
        "2001": 28.72,
        "2002": 32.19,
        "2003": 36.97,
        "2004": 45.37,
        "2005": 56.2,
        "2006": 67.77,
        "2007": 82.25,
        "2008": 104.49,
        "2009": 116.71,
        "2010": 144.62,
        "2011": 178.75,
        "2012": 206.48,
        "2013": 231.51,
        "2014": 252.71,
        "2015": 257.46,
        "2016": 277.14,
        "2017": 312.84,
        "2018": 349.12,
        "2019": 368.47
      },
      {
        "GDP(billion$)": "Gansu",
        "2000": 14.05,
        "2001": 16.08,
        "2002": 17.6,
        "2003": 20,
        "2004": 24.12,
        "2005": 27.63,
        "2006": 32.52,
        "2007": 38.61,
        "2008": 45.24,
        "2009": 48.39,
        "2010": 58.87,
        "2011": 71.72,
        "2012": 80.72,
        "2013": 90.44,
        "2014": 97.67,
        "2015": 97,
        "2016": 102.86,
        "2017": 106.57,
        "2018": 117.8,
        "2019": 124.55
      },
      {
        "GDP(billion$)": "Qinghai",
        "2000": 3.77,
        "2001": 4.29,
        "2002": 4.87,
        "2003": 5.57,
        "2004": 6.66,
        "2005": 7.76,
        "2006": 9.26,
        "2007": 11.39,
        "2008": 14.55,
        "2009": 15.45,
        "2010": 19.29,
        "2011": 23.86,
        "2012": 27.05,
        "2013": 30.32,
        "2014": 32.9,
        "2015": 34.53,
        "2016": 36.75,
        "2017": 37.5,
        "2018": 40.93,
        "2019": 42.37
      },
      {
        "GDP(billion$)": "Ningxia",
        "2000": 3.79,
        "2001": 4.82,
        "2002": 5.39,
        "2003": 6.36,
        "2004": 7.67,
        "2005": 8.75,
        "2006": 10.37,
        "2007": 13.13,
        "2008": 17.2,
        "2009": 19.33,
        "2010": 24.14,
        "2011": 30.03,
        "2012": 33.45,
        "2013": 36.82,
        "2014": 39.32,
        "2015": 41.6,
        "2016": 45.27,
        "2017": 49.19,
        "2018": 52.93,
        "2019": 53.55
      },
      {
        "GDP(billion$)": "Xinjiang",
        "2000": 19.49,
        "2001": 21.31,
        "2002": 23.04,
        "2003": 26.95,
        "2004": 31.56,
        "2005": 37.2,
        "2006": 43.5,
        "2007": 50.33,
        "2008": 59.76,
        "2009": 61.1,
        "2010": 77.68,
        "2011": 94.43,
        "2012": 107.22,
        "2013": 120.63,
        "2014": 132.48,
        "2015": 133.21,
        "2016": 137.85,
        "2017": 155.46,
        "2018": 174.27,
        "2019": 194.24
      }
    ];

    const transformedData = [];
    data.forEach(d => {
      for (let year = 2000; year <= 2019; year++) {
        transformedData.push({
          'GDP(billion$)': d['GDP(billion$)'],
          'Year': year,
          'Value': d[year.toString()]
        });
      }
    });

    const spec = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "data": {
        "values": transformedData
      },
      "width": 800,
      "height": 400,
      "selection": {
        "region_filter": {
          "type": "single",
          "fields": ["GDP(billion$)"],
          "bind": {
            "input": "select",
            "options": ["National Total", "Beijing"],
            "name": "Select Region"
          }
        }
      },
      "transform": [
        {
          "filter": { "selection": "region_filter" }
        }
      ],
      "mark": "line",
      "encoding": {
        "x": {
          "field": "Year",
          "type": "ordinal",
          "title": "Year"
        },
        "y": {
          "field": "Value",
          "type": "quantitative",
          "title": "GDP (in billion $)"
        },
        "color": {
          "field": "GDP(billion$)",
          "type": "nominal",
          "legend": null
        },
        "tooltip": [
          { "field": "Year", "type": "ordinal" },
          { "field": "Value", "type": "quantitative", "title": "GDP (in billion $)" }
        ]
      }
    };

    vegaEmbed("#vis", spec, { mode: "vega-lite" }).then(console.log).catch(console.warn);
  </script>
</body>

</html>